<% layout('layout') %>

	<div class="jumbotron">
		<div class="container">
			<h1 class="display-3">Welcome to Ale-Store</h1>
			<p>Unicam Web programming course project by Alessandro Silveri</p>
			<div class="input-group col-6 mb-3 offset-md-3">
				<input type="text" name="search_item" id="serach_item" class="form-control" placeholder="Search a product ..." aria-label="Search a product ..."
				 aria-describedby="basic-addon2" required>
				<div class="input-group-append">
					<button type="submit" class="btn btn-primary btn-lg" id="search_btn">
						<i class="fas fa-search"></i>
					</button>
				</div>
			</div>
		</div>
	</div>
	<div class="container">
		<div class="row" id="search_result">
			<% for (var i=0; i < products.length; i++) { %>
				<div class="col-md-4 mb-3">
					<div class="card item-holder">
						<!-- <img class="card-img-top" src="<%= products[i].image %>" alt="Card image cap"> -->
						<img src="https://imgplaceholder.com/330x300/2b3e50/ffffff/fa-file-image-o?font-size=88">
						<div class="card-body">
							<h5 class="card-title">
								<%= products[i].name %>
							</h5>
							<p class="card-text">
								<%= products[i].category.name %>
							</p>
							<p class="card-text">
								<%= products[i].price %> &euro;
							</p>
							<a href="/product/<%= products[i]._id %>" class="btn btn-primary">Details</a>
						</div>
					</div>
				</div>
				<% } %>
		</div>
	</div>

	<nav aria-label="Page navigation example" id="pagination">
		<ul class="pagination justify-content-center">
			<% for(var i=0; i<page; i++) { %>
				<% if(currPage===0) { %>
					<li class="page-item disabled">
						<a class="page-link" href="#" aria-label="Previous">
							<span aria-hidden="true">&laquo;</span>
							<span class="sr-only">Previous</span>
						</a>
					</li>
					<% } else { %>
						<% if(currPage == (i+1)) { %>
							<li class="page-item disabled">
								<% } else { %>
									<li class="page-item">
										<% } %>
											<a class="page-link" href="/page/<%= i+1 %>">
												<%= i+1 %>
											</a>
									</li>
									<% } %>
										<% } %>
		</ul>
	</nav>